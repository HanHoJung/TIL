# 연속합 2

> **문제분류:다이나믹 프로그래밍**
>
> **문제번호:13398**

> solution 1.
>
> 문제의 크기:수열의 크기  n(1 ≤ n ≤ 100,000),  수열 A를 이루고 있는 Ai (-1,000≤ Ai ≤ 1,000)
>
> 제한시간:1초
>
> 
>
> 이 문제는 연속합과 다르게  수열에서 수 하나를 또 제거((제거하지 않아도 된다) 할 수 있는 옵션이 추가되었습니다. 수열을 만들고 하나씩 조사하기에는 n제한이 크기 때문에  왼쪽에서 시작하는 연속합과 오른쪽에서 시작하는 연속합을 구한후 i번째를 뺀 값을 기준으로(i번째의 왼쪽, 오른쪽)의 최대값을 구하면 문제를 해결할 수 있습니다.
>
> 
>
> dl[i] = i번째 수로 끝나는 가장 큰 연속합
>
> dr[i] = i번째 수로 시작하는 가장 큰 연속합
>
>  i번째를 뺀 값을 기준으로(i번째의 왼쪽, 오른쪽)의 최대값을 구하면 문제를 해결할 수 있습니다.
>
> ```c++
> int ans = dl[0];
> 
> for (int i = 1;i < n; i++) {
> 		if (ans < dl[i])
> 			ans = dl[i];
> 	}
> 
> for (int i = 1; i < n - 1; i++) {
> 		if (ans < dl[i - 1] + dr[i + 1]) {
> 			ans = dl[i - 1] + dr[i + 1];
> 		}
> 	}
> 
> ```
>
> 
>
> 
>
> <점화식>
>
> **dl[i-1] + arr[i] > arr[i] 일때**, dl[i] = dl[i - 1] + arr[i]
>
> **dl[i-1] + arr[i] <= arr[i] 일때**, dl[i] = arr[i];
>
> | i     | 1    | 2     | 3       | 4         | 5           | 6           | 7              | 8    | 9     | 10       |
> | ----- | ---- | ----- | ------- | --------- | ----------- | ----------- | -------------- | ---- | ----- | -------- |
> | A[i]  | 10   | -4    | 3       | 1         | 5           | 6           | -35            | 12   | 21    | -1       |
> | dl[i] | 10   | 6     | 9       | 10        | 15          | 21          | -14            | 12   | 33    | 32       |
> | 원소  | 10   | 10,-4 | 10,-6,3 | 10,-4,3,1 | 10,-4,3,1,5 | 10,-4,3,1,5 | 10,-4,3,1,5,35 | 12   | 12,21 | 12,21,-1 |
>
> 
>
> **dr[i+1] + arr[i] > arr[i] 일때**, dr[i] = dr[i - 1] + arr[i]
>
> **dr[i+1] + arr[i] <= arr[i] 일때**, dr[i] = arr[i];
> | i     | 1             | 2          | 3       | 4     | 5    | 6    | 7         | 8     | 9    | 10   |
> | ----- | ------------- | ---------- | ------- | ----- | ---- | ---- | --------- | ----- | ---- | ---- |
> | A[i]  | 10            | -4         | 3       | 1     | 5    | 6    | -35       | 12    | 21   | -1   |
> | dr[i] | 21            | 11         | 15      | 12    | 11   | 6    | -2        | 33    | 21   | -1   |
> | 원소  | 5,6,1,3,-4,10 | 5,6,1,3,-4 | 5,6,1,3 | 5,6,1 | 5,6  | 6    | 21,12,-35 | 21,12 | 21   | -1   |
>
> 


https://github.com/HanHoJung/Algorithm/blob/master/Algorithm/DP/13398.cpp






